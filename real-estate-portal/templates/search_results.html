        <div class="row">
            {% for p in properties %}
                <div class="col-md-4 mb-4">
                    <div class="card shadow">
                        {% if p.images %}
                            <img src="{{ url_for('static', filename=p.images[0].filename) }}" class="card-img-top" alt="Property Image">
                        {% endif %}
                        <div class="card-body">
                            <h5 class="card-title">{{ p.title }}</h5>
                            <p class="card-text">Price: ${{ p.price }}</p>
                            <p class="card-text">Location: <a href="https://www.google.com/maps?q={{ p.location }}" target="_blank">{{ p.location }}</a></p>
                            <p class="card-text">Address: {{ p.address }}</p>
                            <p class="card-text">Amenities: {{ p.amenities }}</p>
                            <a href="{{ url_for('property_detail', property_id=p.id) }}" class="btn btn-primary">View Details</a>
                            <button class="btn btn-outline-danger ms-2 favorite-btn" data-property-id="{{ p.id }}">
                                <i class="fas fa-heart {% if current_user in p.favorited_by %}text-danger{% endif %}"></i>
                            </button>
                        </div>
                    </div>
                </div>
            {% endfor %}
        </div>